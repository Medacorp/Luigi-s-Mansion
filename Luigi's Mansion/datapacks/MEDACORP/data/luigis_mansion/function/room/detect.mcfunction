execute if entity @e[tag=player,scores={Room=0}] run function luigis_mansion:room/exterior/tick
execute if score #exterior Ticking matches 1 unless entity @e[tag=player,scores={Room=0}] run function luigis_mansion:room/exterior/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=31..46,PositionIntY=1..15,PositionIntZ=4..13}] run function luigis_mansion:room/underground_lab/tick
execute if score #underground_lab Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=31..46,PositionIntY=1..15,PositionIntZ=4..13}] unless entity @e[tag=player,scores={Room=-1}] run function luigis_mansion:room/underground_lab/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=8..27,PositionIntY=1..7,PositionIntZ=0..13}] run function luigis_mansion:room/training_room/tick
execute if score #training_room Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=8..27,PositionIntY=1..7,PositionIntZ=0..13}] unless entity @e[tag=player,scores={Room=-2}] run function luigis_mansion:room/training_room/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=22..47,PositionIntY=1..7,PositionIntZ=17..28}] run function luigis_mansion:room/ghost_portrificationizer_room/tick
execute if score #ghost_portrificationizer_room Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=22..47,PositionIntY=1..7,PositionIntZ=17..28}] unless entity @e[tag=player,scores={Room=-3}] run function luigis_mansion:room/ghost_portrificationizer_room/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..48}] run function luigis_mansion:room/gallery/tick
execute if score #gallery Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..48}] unless entity @e[tag=player,scores={Room=-4}] run function luigis_mansion:room/gallery/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] run function luigis_mansion:room/gallery_hallway_1/tick
execute unless entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] if entity @e[tag=player,distance=0..,scores={PositionIntX=9..14,PositionIntY=1..7,PositionIntZ=27..48}] run function luigis_mansion:room/gallery_hallway_1/tick
execute if score #gallery_hallway_1 Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] unless entity @e[tag=player,distance=0..,scores={PositionIntX=9..14,PositionIntY=1..7,PositionIntZ=27..48}] unless entity @e[tag=player,scores={Room=-5}] run function luigis_mansion:room/gallery_hallway_1/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] run function luigis_mansion:room/gallery_hallway_2/tick
execute unless entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] if entity @e[tag=player,distance=0..,scores={PositionIntX=4..9,PositionIntY=1..7,PositionIntZ=27..48}] run function luigis_mansion:room/gallery_hallway_2/tick
execute if score #gallery_hallway_2 Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=0..18,PositionIntY=1..7,PositionIntZ=17..28}] unless entity @e[tag=player,distance=0..,scores={PositionIntX=4..9,PositionIntY=1..7,PositionIntZ=27..48}] unless entity @e[tag=player,scores={Room=-6}] run function luigis_mansion:room/gallery_hallway_2/not_ticking
execute if entity @e[tag=player,distance=0..,scores={PositionIntX=3..14,PositionIntY=1..12,PositionIntZ=52..63}] run function luigis_mansion:room/gallery_back_room/tick
execute if score #gallery_back_room Ticking matches 1 unless entity @e[tag=player,distance=0..,scores={PositionIntX=3..14,PositionIntY=1..12,PositionIntZ=52..63}] unless entity @e[tag=player,scores={Room=-7}] run function luigis_mansion:room/gallery_back_room/not_ticking

function #luigis_mansion:extra_detect
function luigis_mansion:room/detect_mansion with storage luigis_mansion:data current_state.current_data.mansion_id
scoreboard players reset #temp Room
execute if data storage luigis_mansion:data rooms.underground_lab{cleared:1b} if entity @e[tag=player,scores={Room=1..},tag=!spectator] run function luigis_mansion:room/update_stats