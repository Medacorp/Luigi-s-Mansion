execute if entity @s[tag=!complain,tag=!attack,tag=!dropped_off_food] positioned ^ ^ ^1.5 if entity @e[tag=same_room,tag=furniture,nbt={data:{furniture_type:"food"},equipment:{head:{components:{"minecraft:custom_model_data":{floats:[4f]}}}}},distance=..1.5,limit=1] run tag @s add complain
execute if entity @s[tag=!complain,tag=!attack,tag=!dropped_off_food] positioned ^ ^ ^1.5 if entity @e[tag=same_room,tag=furniture,nbt={data:{furniture_type:"food"}},distance=..1.5,limit=1] run tag @s add attack
execute if entity @s[tag=attack] run function luigis_mansion:entities/waiter/attack/drop_off_food with entity @s data.entity