execute if score #dialog Dialog matches 361..420 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 356..360 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 331..355 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 329..330 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 284..328 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 264..283 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players set #dialog Dialog 284
execute if score #dialog Dialog matches 263..282 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 260..262 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..259 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..420 if entity @a[tag=same_room,tag=skip_dialog,limit=1] run scoreboard players set #dialog Dialog 421
execute if score #dialog Dialog matches 260..360 unless score #dialog Dialog matches 284..328 unless score #dialog Dialog matches 331..355 as @a[tag=same_room,tag=!spectator,tag=!dialog_menu,tag=!using_selection_menu] run function luigis_mansion:selection_menu/dialog/original_menu
execute if score #dialog Dialog matches 284..328 as @a[tag=same_room,tag=dialog_menu] run function luigis_mansion:selection_menu/dialog/exit
execute if score #dialog Dialog matches 331..355 as @a[tag=same_room,tag=dialog_menu] run function luigis_mansion:selection_menu/dialog/exit
execute if score #dialog Dialog matches 361.. as @a[tag=same_room,tag=dialog_menu] run function luigis_mansion:selection_menu/dialog/exit

scoreboard players reset @a[tag=same_room,tag=!spectator] WarpTime
execute as @a[tag=same_room,tag=!spectator,tag=game_boy_horror_menu] run function luigis_mansion:selection_menu/game_boy_horror/exit
tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] remove freeze_animation
tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] remove no_ai
execute if score #dialog Dialog matches 1..330 unless data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} as @a[tag=same_room] run function luigis_mansion:other/music/set/king_boo
execute if score #dialog Dialog matches 1..330 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} as @a[tag=same_room] run function luigis_mansion:other/music/set/mysterious_power
execute if score #dialog Dialog matches 1 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"appear"}
execute if score #dialog Dialog matches 1 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.laugh_2 hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 1..183 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/idle_no_poltergust
execute if score #dialog Dialog matches 1 unless score #mirrored Selected matches 1 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] as @e[tag=same_room,tag=luigi,sort=nearest,limit=1] run function luigis_mansion:entities/luigi/move/execute {execute:"rotated ~ 0",teleport:"^-0.25 ^ ^3 ~-180 ~"}
execute if score #dialog Dialog matches 1 if score #mirrored Selected matches 1 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] as @e[tag=same_room,tag=luigi,sort=nearest,limit=1] run function luigis_mansion:entities/luigi/move/execute {execute:"rotated ~ 0",teleport:"^0.25 ^ ^3 ~-180 ~"}
execute if score #dialog Dialog matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~ 0",teleport:"^ ^ ^3 ~-180 ~"}
execute if score #dialog Dialog matches 1..40 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^0.025 facing entity @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] feet"}
execute if score #dialog Dialog matches 41..60 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.05 facing entity @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] feet"}
execute if score #dialog Dialog matches 61..99 unless data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"~ ~ ~ facing entity @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] feet"}
execute if score #dialog Dialog matches 61..99 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~-20 0 positioned ^ ^ ^0.05 rotated as @s",teleport:"^ ^ ^ ~ ~"}
execute if score #dialog Dialog matches 61..99 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~20 0 positioned ^ ^ ^0.05 rotated as @s",teleport:"^ ^ ^ ~ ~"}
execute if score #dialog Dialog matches 100..139 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~-30 0",teleport:"^ ^ ^3 ~-180 ~"}
execute if score #dialog Dialog matches 100..139 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~30 0",teleport:"^ ^ ^3 ~-180 ~"}
execute if score #dialog Dialog matches 140..179 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~30 10",teleport:"^ ^ ^2.5 ~-180 -10"}
execute if score #dialog Dialog matches 140..179 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~-30 10",teleport:"^ ^ ^2.5 ~-180 -10"}
execute if score #dialog Dialog matches 180..239 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~ 20",teleport:"^ ^ ^2 ~-180 -20"}
execute if score #dialog Dialog matches 240..259 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~-10 0 positioned ^ ^0.0257 ^0.15 rotated as @s",teleport:"^ ^ ^ ~ ~1"}
execute if score #dialog Dialog matches 240..259 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] rotated ~10 0 positioned ^ ^0.0257 ^0.15 rotated as @s",teleport:"^ ^ ^ ~ ~1"}
execute if score #dialog Dialog matches 260..360 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^ ~ ~"}
execute if score #dialog Dialog matches 361..380 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s facing entity @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1] feet positioned ^ ^ ^0.2 rotated as @s",teleport:"^ ^ ^ ~ ~"}
execute if score #dialog Dialog matches 381 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1]",teleport:"^ ^ ^ ~-180 0"}
execute if score #dialog Dialog matches 381..390 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~3 0"}
execute if score #dialog Dialog matches 381..390 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~-3 0"}
execute if score #dialog Dialog matches 391..400 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~-6 0"}
execute if score #dialog Dialog matches 391..400 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~6 0"}
execute if score #dialog Dialog matches 401..410 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~ 0"}
execute if score #dialog Dialog matches 411..420 unless score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~6 0"}
execute if score #dialog Dialog matches 411..420 if score #mirrored Selected matches 1 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/teleport {teleport:"^ ^ ^-0.65 ~6 0"}
execute if score #dialog Dialog matches 381..390 unless score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~3 0"}
execute if score #dialog Dialog matches 381..390 if score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~-3 0"}
execute if score #dialog Dialog matches 391..400 unless score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~-6 0"}
execute if score #dialog Dialog matches 391..400 if score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~6 0"}
execute if score #dialog Dialog matches 401..410 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~ 0"}
execute if score #dialog Dialog matches 411..420 unless score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~6 0"}
execute if score #dialog Dialog matches 411..420 if score #mirrored Selected matches 1 as @e[tag=same_room,tag=luigi] run function luigis_mansion:entities/luigi/move/teleport {teleport:"^ ^ ^-0.65 ~6 0"}

execute if score #dialog Dialog matches 10 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 99 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} run tag @a[tag=same_room,limit=1] add next_dialog_line
execute if score #dialog Dialog matches 99 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} run scoreboard players set #dialog Dialog 359
execute if score #dialog Dialog matches 100 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.1"}]}
execute if score #dialog Dialog matches 140 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.2"}]}
execute if score #dialog Dialog matches 180 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.3"}]}
execute if score #dialog Dialog matches 240 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"hurt"}
execute if score #dialog Dialog matches 240 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.complain hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 240 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.4"}]}

execute if score #dialog Dialog matches 261 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.5"}]}

execute if score #dialog Dialog matches 262 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 262 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.6"}]}

execute if score #dialog Dialog matches 263 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] add laugh
execute if score #dialog Dialog matches 263 if score #players Totals matches 1 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.7",with:[{type:"selector",selector:"@p"}]}]}
execute if score #dialog Dialog matches 263 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.7.more"}]}
execute if score #dialog Dialog matches 283 run scoreboard players set @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] ActionTime 0
execute if score #dialog Dialog matches 283 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] remove laugh
execute if score #dialog Dialog matches 283 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation

execute if score #dialog Dialog matches 284 run scoreboard players set @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] ActionTime 0
execute if score #dialog Dialog matches 284 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] remove laugh
execute if score #dialog Dialog matches 284 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 284 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/yell
execute if score #dialog Dialog matches 284 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.laugh_2 hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 324..330 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/idle_no_poltergust
execute if score #dialog Dialog matches 324 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"taunt"}
execute if score #dialog Dialog matches 324 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.flinch hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 328 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 328 if score #players Totals matches 1 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.8"}]}
execute if score #dialog Dialog matches 328 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.8.more"}]}

execute if score #dialog Dialog matches 330 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"hurt"}
execute if score #dialog Dialog matches 330 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.complain hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 330 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.9"}]}

execute if score #dialog Dialog matches 331 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/inspect
execute if score #dialog Dialog matches 351..430 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/idle_no_poltergust
execute if score #dialog Dialog matches 351 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"taunt"}
execute if score #dialog Dialog matches 351 at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.flinch hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 355 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 355 if score #players Totals matches 1 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.10"}]}
execute if score #dialog Dialog matches 355 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.10.more"}]}

execute if score #dialog Dialog matches 357 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.11"}]}

execute if score #dialog Dialog matches 358 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] add laugh
execute if score #dialog Dialog matches 358 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.12"}]}

execute if score #dialog Dialog matches 359 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.13"}]}
execute if score #dialog Dialog matches 359 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.13.more"}]}

execute store result score #temp Boos run data get storage luigis_mansion:data current_state.current_data.boo_counter
execute store result score #temp2 Boos run data get storage luigis_mansion:data dialogs[0].leverage
scoreboard players operation #temp Boos += #temp2 Boos
scoreboard players reset #temp2 Boos
execute if score #dialog Dialog matches 360 run scoreboard players set @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] ActionTime 0
execute if score #dialog Dialog matches 360 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] remove laugh
execute if score #dialog Dialog matches 360 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"hurt"}
execute if score #dialog Dialog matches 360 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] at @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] run playsound luigis_mansion:entity.king_boo.complain hostile @a[tag=same_room] ~ ~ ~ 1
execute if score #dialog Dialog matches 360 unless data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.0"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 49 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.1"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 48 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.2"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 47 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.3"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 46 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.4"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 45 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.5"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 44 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.6"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 43 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.7"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 42 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.8"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 41 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.9"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 40 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.10"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches ..39 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.11"}]}
execute if score #dialog Dialog matches 360 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches ..39 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.14.11.more"}]}

execute if score #dialog Dialog matches 361 run data modify entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation set value {namespace:"luigis_mansion",id:"appear"}
execute if score #dialog Dialog matches 371 run data remove entity @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] data.animation
execute if score #dialog Dialog matches 371 unless data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #players Totals matches 1 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.15"}]}
execute if score #dialog Dialog matches 371 unless data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #players Totals matches 2.. run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.15.more"}]}
execute if score #dialog Dialog matches 371 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 40..47 if score #players Totals matches 1 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.15"}]}
execute if score #dialog Dialog matches 371 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} if score #temp Boos matches 40..47 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.15.more"}]}
execute if score #dialog Dialog matches 371 if data storage luigis_mansion:data current_state.current_data.technical_data{king_boo_warp:1b} unless score #temp Boos matches 40..47 run tellraw @a[tag=same_room] {type:"translatable",translate:"chat.type.text",with:[{type:"translatable",translate:"luigis_mansion:entity.king_boo",color:"green"},{type:"translatable",translate:"luigis_mansion:dialog.king_boo_warp.15.alt"}]}
scoreboard players reset #temp Boos
execute if score #dialog Dialog matches 371 as @a[tag=same_room] run function luigis_mansion:other/music/set/warped_by_boos
execute if score #dialog Dialog matches 371..421 as @a[tag=same_room,tag=!spectator] run function luigis_mansion:entities/luigi/move/execute {execute:"at @s rotated as @e[tag=same_room,nbt={data:{entity:{namespace:'luigis_mansion',id:'king_boo'}}},limit=1]",teleport:"^ ^ ^0.5"}
execute if score #dialog Dialog matches 421 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/none
execute if score #dialog Dialog matches 421 as @a[tag=same_room] run function luigis_mansion:other/music/set/silence
execute if score #dialog Dialog matches 421 as @a[tag=same_room] run function luigis_mansion:entities/player/camera/reset
execute if score #dialog Dialog matches 421 as @e[tag=luigi,tag=same_room] run function luigis_mansion:room/default_position_in_mansion with storage luigis_mansion:data current_state.current_data.mansion_id
execute if score #dialog Dialog matches 421 run data modify storage luigis_mansion:data current_state.current_data.technical_data merge value {king_boo_warp:1b}
execute if score #dialog Dialog matches 421 run tag @e[tag=same_room,nbt={data:{entity:{namespace:"luigis_mansion",id:"king_boo"}}},limit=1] add remove_from_existence
execute if score #dialog Dialog matches 421 run scoreboard players set #dialog Dialog -1