execute if entity @s[tag=flashlight,scores={Shrunk=0}] as @e[tag=same_room,tag=ghost,tag=!smug,tag=!hidden,tag=!laugh,tag=!vanish,tag=!appear,tag=!hurt_animation,tag=!hurt,tag=!element_hurt,tag=!no_ai,scores={StunTime=0,ElementHurtTime=0}] unless entity @s[tag=!burning_heart,tag=!watery_heart,tag=!frozen_heart] unless entity @s[tag=basher,tag=!visible] positioned ~ ~1 ~ positioned ^ ^ ^3 if block ~ ~ ~ #luigis_mansion:flashlight_path run function 3ds_remake:items/flashlight/effects/smug_elemental_hearts/step
execute if entity @s[tag=flashlight,scores={Shrunk=1..}] as @e[tag=same_room,tag=ghost,tag=!smug,tag=!hidden,tag=!laugh,tag=!vanish,tag=!appear,tag=!hurt_animation,tag=!hurt,tag=!element_hurt,tag=!no_ai,scores={StunTime=0,ElementHurtTime=0}] unless entity @s[tag=!burning_heart,tag=!watery_heart,tag=!frozen_heart] unless entity @s[tag=basher,tag=!visible] positioned ~ ~0.5 ~ positioned ^ ^ ^3 if block ~ ~ ~ #luigis_mansion:flashlight_path run function 3ds_remake:items/flashlight/effects/smug_elemental_hearts/step
scoreboard players reset #temp PathStep