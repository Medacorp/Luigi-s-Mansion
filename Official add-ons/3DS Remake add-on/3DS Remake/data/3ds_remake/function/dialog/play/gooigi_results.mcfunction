execute if score #dialog Dialog matches 12 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 11 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches 7..10 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..6 run scoreboard players add #dialog Dialog 1
execute if score #dialog Dialog matches ..10 if entity @a[tag=same_room,tag=skip_dialog,limit=1] run scoreboard players set #dialog Dialog 11
execute if score #dialog Dialog matches 12 if entity @a[tag=same_room,tag=skip_dialog,limit=1] run scoreboard players set #dialog Dialog 13
execute if score #dialog Dialog matches 6..11 as @a[tag=same_room,tag=!spectator] unless entity @s[tag=dialog_menu,tag=!dialog_choice_menu] unless entity @s[tag=using_selection_menu,tag=!dialog_menu] run function luigis_mansion:selection_menu/dialog/original_menu
execute if score #dialog Dialog matches 12 as @a[tag=same_room,tag=!spectator,tag=!dialog_choice_menu] unless entity @s[tag=using_selection_menu,tag=!dialog_menu] run function luigis_mansion:selection_menu/dialog/choice/save
execute if score #dialog Dialog matches 13.. as @a[tag=same_room,tag=dialog_menu] run function luigis_mansion:selection_menu/dialog/exit

scoreboard players reset @a[tag=same_room,tag=!spectator] WarpTime
execute as @a[tag=same_room,tag=!spectator,tag=game_boy_horror_menu] run function luigis_mansion:selection_menu/game_boy_horror/exit
execute if score #dialog Dialog matches 1..5 as @a[tag=same_room,tag=!spectator] run function luigis_mansion:items/game_boy_horror/turn_screen_to_forced_value {value:"call",flags:[],floats:[5f,0f,0f,0f],tracker:[]}
execute if score #dialog Dialog matches 6.. as @a[tag=same_room,tag=!spectator] run function luigis_mansion:items/game_boy_horror/turn_screen_to_forced_value {value:"call",flags:[],floats:[0f,0f,0f,0f],tracker:[]}
execute if score #dialog Dialog matches 1..10 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/game_boy_horror
execute if score #dialog Dialog matches 1..10 as @a[tag=same_room] run function 3ds_remake:other/music/set/future_e_gadd
execute if score #dialog Dialog matches 6 if score #players Totals matches 1 run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.1","with":[{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 6 if score #players Totals matches 2.. run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.1.more"}]}
execute if score #dialog Dialog matches 6 as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.oui_soh_suu_suhm_ck_ck neutral @s ~ ~ ~ 1

execute if score #dialog Dialog matches 8 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run stopsound @a[tag=same_room] neutral luigis_mansion:entity.e_gadd.talk.oui_soh_suu_suhm_ck_ck
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.no","with":[{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.no.more"}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data current_state.current_data.gooigi_stats if entity @a[tag=same_room,tag=next_dialog_line,limit=1] as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.soy_soh_ooh_hey_hey_suu_dehkooroo_hah neutral @s ~ ~ ~ 1
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data current_state.current_data.gooigi_stats store result score #temp Time run data get storage luigis_mansion:data current_state.current_data.gooigi_stats.money
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data current_state.current_data.gooigi_stats store result score #temp2 Time run data get storage luigis_mansion:data current_state.current_data.gooigi_stats.ghosts
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #temp Time matches 20000.. if score #temp2 Time matches 150.. run data modify storage luigis_mansion:data dialogs[0].amazing set value 1b
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.amazing","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"},{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.money","source":"storage","storage":"luigis_mansion:data"},{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.amazing.more","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"},{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.money","source":"storage","storage":"luigis_mansion:data"}]}]}
execute if score #dialog Dialog matches 8 if data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if entity @a[tag=same_room,tag=next_dialog_line,limit=1] as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.gay_roon_ehdeedee_odoh neutral @s ~ ~ ~ 1
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.yes","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"},{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.money","source":"storage","storage":"luigis_mansion:data"},{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.yes.more","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"},{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.money","source":"storage","storage":"luigis_mansion:data"}]}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #temp Time matches 0 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.yes.no_money","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"},{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if score #temp Time matches 0 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.yes.no_money.more","with":[{"type":"nbt","nbt":"current_state.current_data.gooigi_stats.ghosts","source":"storage","storage":"luigis_mansion:data"}]}]}
execute if score #dialog Dialog matches 8 unless data storage luigis_mansion:data dialogs[0].amazing if data storage luigis_mansion:data current_state.current_data.gooigi_stats if entity @a[tag=same_room,tag=next_dialog_line,limit=1] as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.hmmm_nohjeebeedoggy_ohmoogah neutral @s ~ ~ ~ 1
execute if score #dialog Dialog matches 8 run scoreboard players reset #temp Time
execute if score #dialog Dialog matches 8 run scoreboard players reset #temp Time2

execute if score #dialog Dialog matches 9 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run stopsound @a[tag=same_room] neutral luigis_mansion:entity.e_gadd.talk.soy_soh_ooh_hey_hey_suu_dehkooroo_hah
execute if score #dialog Dialog matches 9 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run stopsound @a[tag=same_room] neutral luigis_mansion:entity.e_gadd.talk.gay_roon_ehdeedee_odoh
execute if score #dialog Dialog matches 9 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run stopsound @a[tag=same_room] neutral luigis_mansion:entity.e_gadd.talk.hmmm_nohjeebeedoggy_ohmoogah
execute if score #dialog Dialog matches 9 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.2"}]}
execute if score #dialog Dialog matches 9 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.2.more"}]}
execute if score #dialog Dialog matches 9 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.oh_tohmah_poheh_jeemee_jeemee_pen_pen neutral @s ~ ~ ~ 1

execute if score #dialog Dialog matches 10 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run stopsound @a[tag=same_room] neutral luigis_mansion:entity.e_gadd.talk.oh_tohmah_poheh_jeemee_jeemee_pen_pen
execute if score #dialog Dialog matches 10 if score #players Totals matches 1 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.3","with":[{"type":"selector","selector":"@a[tag=!spectator]"}]}]}
execute if score #dialog Dialog matches 10 if score #players Totals matches 2.. if entity @a[tag=same_room,tag=next_dialog_line,limit=1] run tellraw @a[tag=same_room] {"type":"translatable","translate":"chat.type.text","with":[{"type":"translatable","translate":"3ds_remake:entity.future_e_gadd","color":"green"},{"type":"translatable","translate":"3ds_remake:dialog.gooigi_results.3.more"}]}
execute if score #dialog Dialog matches 10 if entity @a[tag=same_room,tag=next_dialog_line,limit=1] as @a[tag=same_room] at @s run playsound luigis_mansion:entity.e_gadd.talk.mah_mah_mah_luigi_oui neutral @s ~ ~ ~ 1

execute if score #dialog Dialog matches 11..12 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/idle_no_poltergust
execute if score #dialog Dialog matches 11 run function luigis_mansion:dialog/play/mansion_rank/clear_mansion
execute if score #dialog Dialog matches 11 as @a[tag=same_room] run function luigis_mansion:other/music/set/non_overwritten_silence
#save?
execute if score #dialog Dialog matches 13 as @e[tag=luigi,tag=same_room] run function luigis_mansion:entities/luigi/animation/set/none
execute if score #dialog Dialog matches 13 run tag @a add show_credits
execute if score #dialog Dialog matches 13 as @a[tag=same_room] run function luigis_mansion:other/music/set/silence
execute if score #dialog Dialog matches 13 as @a[tag=same_room] run function luigis_mansion:other/music/set/credits
execute if score #dialog Dialog matches 13 run tag @e[tag=e_gadd,tag=same_room,limit=1] add can_talk_to
execute if score #dialog Dialog matches 13 run tag @e[tag=e_gadd,tag=same_room,limit=1] remove cannot_be_removed
execute if score #dialog Dialog matches 13 run scoreboard players set #dialog Dialog -1